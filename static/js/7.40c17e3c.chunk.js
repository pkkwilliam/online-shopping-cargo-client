(this["webpackJsonponline-shopping-cargo-client"]=this["webpackJsonponline-shopping-cargo-client"]||[]).push([[7],{109:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var n=a(22),r=a(6),l=a(7),c=a(9),u=a(8),o=a(0),s=a.n(o),i=a(68),p=a(35),E=a(86),d=a.n(E),b=a(1),m=a(2),h=a(3),f=a.n(h),v=a(5),y=s.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,r=e.striped,l=e.bordered,c=e.borderless,u=e.hover,o=e.size,i=e.variant,p=e.responsive,E=Object(m.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),d=Object(v.a)(a,"table"),h=f()(n,d,i&&d+"-"+i,o&&d+"-"+o,r&&d+"-striped",l&&d+"-bordered",c&&d+"-borderless",u&&d+"-hover"),y=s.a.createElement("table",Object(b.a)({},E,{className:h,ref:t}));if(p){var g=d+"-responsive";return"string"===typeof p&&(g=g+"-"+p),s.a.createElement("div",{className:g},y)}return y})),g=a(4),k=a.n(g),S=a(41),O=a(42),P=a(25),T=s.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.variant,r=e.pill,l=e.className,c=e.as,u=void 0===c?"span":c,o=Object(m.a)(e,["bsPrefix","variant","pill","className","as"]),i=Object(v.a)(a,"badge");return s.a.createElement(u,Object(b.a)({ref:t},o,{className:f()(l,i,r&&i+"-pill",n&&i+"-"+n)}))}));T.displayName="Badge",T.defaultProps={pill:!1};var D=T,R=s.a.lazy((function(){return a.e(6).then(a.bind(null,108))})),I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).ExpandItem=function(t){var a=t.cost,n=t.createTime,r=t.updateTime,l=(t.destination,t.displayId),c=t.originalTrackingNumber,u=(t.height,t.length,t.parcelLocation,t.parcelStatus,t.shop),o=t.showDetaiDisplayId,i=t.weight,p=(t.width,t.volumeWeight);return s.a.createElement("tr",null,s.a.createElement("td",{colSpan:100,style:{padding:0}},s.a.createElement(R,{in:l===o},s.a.createElement(O.a,{style:C.collpaseContainer},s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u5165\u5eab\u6642\u9593: ".concat(e.getDate(n))))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u66f4\u65b0\u6642\u9593: ".concat(e.getDate(null!==r?r:n))))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u539f\u55ae\u865f: ".concat(c)))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u5e97\u540d: ".concat(u.shopName," ").concat(u.shopNumber)))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u5730\u5740: ".concat(u.shopAddress)))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u96fb\u8a71: ".concat(u.shopPhoneNumber)))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u71df\u696d\u6642\u9593: ".concat(u.openingHour)))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u91cd\u91cf: ".concat(i))),s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u7a7a\u9593\u91cd\u91cf: ".concat(p)))),s.a.createElement(P.a,null,s.a.createElement(S.a,null,s.a.createElement(k.a,null,"\u904b\u8cbb: ".concat(a))))))))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.displayId,a=e.onClickShowDetail,n=e.parcelLocation,r=e.parcelStatus,l=new d.a,c=l.getParcelLocation(n),u=l.getParcelStatusBageAndLabel(r);return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"text-center",onClick:function(){return a(t)}},s.a.createElement("td",{style:C.defaultText},s.a.createElement(D,{pill:!0,variant:u.badge},u.label)),s.a.createElement("td",{style:C.defaultText},t),s.a.createElement("td",{style:C.defaultText},c)),s.a.createElement(this.ExpandItem,this.props))}},{key:"getDate",value:function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes())}}]),a}(o.Component),C={collpaseContainer:{padding:5},defaultText:{fontSize:12},rootContainer:{}},_=a(31),w=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onClickShowDetail,a=e.showDetaiDisplayId,n=e.sortedParcels.map((function(e){return s.a.createElement(I,Object.assign({onClickShowDetail:t,showDetaiDisplayId:a},e))}));return s.a.createElement(this.Wrapper,null,s.a.createElement(y,{borderless:!0},s.a.createElement("thead",null,s.a.createElement("tr",{className:"text-center"},s.a.createElement("th",null,"\u72c0\u614b"),s.a.createElement("th",null,"\u55ae\u865f"),s.a.createElement("th",null,"\u5730\u9ede"))),s.a.createElement("tbody",null,n)),s.a.createElement("p",{style:N.reminder},"*\u50c5\u986f\u793a\u5df2\u9032\u5165\u5009\u5eab\u4e26\u672a\u9032\u884c\u6700\u5f8c\u6536\u4ef6\u6216\u5df2\u6536\u4ef630\u5929\u5167\u7684\u5305\u88f9"))}}]),a}(a.n(_).a),N={reminder:{fontSize:9,margin:0}},j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return(e=t.call.apply(t,[this].concat(c))).state=Object(n.a)(Object(n.a)({},e.state),{},{parcelResponses:{parcels:[]},showDetaiDisplayId:0}),e.onClickShowDetail=function(t){e.setState({showDetaiDisplayId:t})},e.onError=function(t){e.setError({show:!0,body:"\u8b80\u53d6\u5305\u88f9\u51fa\u932f\uff0c\u8acb\u7a0d\u5019\u518d\u8a66\n".concat(t.message),header:"AWS \u4f3a\u670d\u5668\u51fa\u932f \ud83e\udd15\ud83e\udd15"})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onTrack()}},{key:"render",value:function(){var e,t=(new d.a).sortParcels(null===(e=this.state.parcelResponses)||void 0===e?void 0:e.parcels);return s.a.createElement(w,Object.assign({onClickShowDetail:this.onClickShowDetail,onCloseModal:this.onCloseError,showDetaiDisplayId:this.state.showDetaiDisplayId,sortedParcels:t},this.state))}},{key:"onTrack",value:function(){var e=this;this.serviceExecutor.execute(Object(i.GET_PARCELS)()).then((function(t){return e.setState({parcelResponses:t})}))}}]),a}(p.a)},68:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET_PARCELS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{publicRequset:!1,onSuceed:e,requestMapping:"/api/v1/parcel",requestMethod:"GET"}},t.GET_PARCELS_HISTORY=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{publicRequset:!1,onSuceed:e,requestMapping:"/api/v1/parcel/history",requestMethod:"GET"}},t.GET_PICKUP_QR_CODE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{publicRequset:!1,onSuceed:e,requestMapping:"/api/v1/parcel/pickup_code",requestMethod:"GET"}},t.GET_USER_PROFILE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{publicRequset:!1,onSuceed:e,requestMapping:"/api/v1/user_profile",requestMethod:"GET"}},t.REQUEST_VERIFICATION=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{publicRequset:!0,onSuceed:a,requestMapping:"/login/sms/request_verification",requestMethod:"POST",body:JSON.stringify({countryCode:e,smsNumber:t})}},t.VALIDATE_USER_TOKEN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{publicRequset:!0,onSuceed:t,requestMapping:"/login/sms/validate_user_token?userToken="+e,requestMethod:"GET"}},t.VERIFY=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{publicRequset:!0,onSuceed:n,requestMapping:"/login/sms/verify",requestMethod:"POST",body:JSON.stringify({countryCode:e,smsNumber:t,oneTimePassword:a})}}},86:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var r=t.DELIVERED={key:"DELIVERED",label:"\u5df2\u9001\u9054"},l=t.EXCEPTION={key:"EXCEPTION",label:"\u8acb\u81f4\u96fb\u5ba2\u670d"},c=t.IN_TRANSIT={key:"IN_TRANSIT",label:"\u904b\u8f38\u4e2d"},u=t.PICKED_UP={key:"PICKED_UP",label:"\u5df2\u63d0"},o=t.READY_TO_PICKUP={key:"READY_TO_PICKUP",label:"\u53ef\u63d0"},s=t.WAREHOUSE_RECEIVED={key:"WAREHOUSE_RECEIVED",label:"\u5009\u5eab"},i=(t.PARCEL_STATUS=[r,l,c,u,o,s],t.SHOP={key:"SHOP",label:"\u81ea\u63d0\u9ede"}),p=t.WAREHOUSE={key:"WAREHOUSE",label:"\u8f49\u904b\u5009"},E=t.VEHICLE={key:"VEHICLE",label:"\u8f49\u904b\u8eca"},d=(t.PARCEL_LOCATIONS=[i,p,E],function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"getParcelLocation",value:function(e){switch(e){case i.key:return"\u81ea\u63d0\u9ede";case p.key:return"\u8f49\u904b\u5009";case E.key:return"\u8f49\u904b\u8eca";default:return""}}},{key:"getParcelStatusBageAndLabel",value:function(e){switch(e){case r.key:return{badge:"primary",label:r.label};case l.key:return{badge:"danger",label:l.label};case c.key:return{badge:"warning",label:c.label};case u.key:return{badge:"primary",label:u.label};case o.key:return{badge:"success",label:o.label};case s.key:return{badge:"info",label:s.label};default:return{badge:"danger",label:"\u672a\u77e5"}}}},{key:"sortParcels",value:function(e){var t=[],a=[],n=[],r=[];return e.forEach((function(e){var u=e.parcelStatus;u===o.key?t.push(e):u===l.key?a.push(e):u===c.key||u===s.key?n.push(e):r.push(e)})),[].concat(t,a,n,r)}},{key:"getLastParcelStatus",value:function(e){var t=e.trackingHistories;return t[t.length-1].parcelStatus}}]),e}());t.default=d}}]);
//# sourceMappingURL=7.40c17e3c.chunk.js.map